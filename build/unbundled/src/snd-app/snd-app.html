<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/app-route/app-location.html"><link rel="import" href="../../bower_components/app-route/app-route.html"><link rel="import" href="../../bower_components/polymerfire/firebase-app.html"><link rel="import" href="../../bower_components/polymerfire/firebase-auth.html"><link rel="import" href="../../bower_components/polymerfire/firebase-query.html"><link rel="import" href="../../bower_components/polymerfire/firebase-document.html"><link rel="import" href="../../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html"><link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html"><link rel="import" href="../../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../../bower_components/app-layout/app-scroll-effects/effects/waterfall.html"><link rel="import" href="../../bower_components/paper-button/paper-button.html"><link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../../bower_components/iron-pages/iron-pages.html"><link rel="prefetch" href="../../bower_components/polymer/polymer-element.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/element-mixin.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/boot.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/mixin.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/case-map.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/style-gather.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/resolve-url.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-module.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/property-effects.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/path.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/property-accessors.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/async.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/template-stamp.html"><link rel="prefetch" href="../../bower_components/app-route/app-location.html"><link rel="prefetch" href="../../bower_components/polymer/polymer.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/legacy-element-mixin.html"><link rel="prefetch" href="../../bower_components/shadycss/apply-shim.html"><link rel="prefetch" href="../../bower_components/shadycss/apply-shim.min.js"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/gesture-event-listeners.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/gestures.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/debounce.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/import-href.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/render-status.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/unresolved.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/polymer.dom.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/flattened-nodes-observer.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/array-splice.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/flush.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/polymer-fn.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/class.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/templatizer-behavior.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/templatize.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/mutable-data.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-bind.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-repeat.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-if.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/array-selector.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/custom-style.html"><link rel="prefetch" href="../../bower_components/shadycss/custom-style-interface.html"><link rel="prefetch" href="../../bower_components/shadycss/custom-style-interface.min.js"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/mutable-data-behavior.html"><link rel="prefetch" href="../../bower_components/iron-location/iron-location.html"><link rel="prefetch" href="../../bower_components/iron-location/iron-query-params.html"><link rel="prefetch" href="../../bower_components/app-route/app-route-converter-behavior.html"><link rel="prefetch" href="../../bower_components/app-route/app-route.html"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-app.html"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-app-script.html"><link rel="prefetch" href="../../bower_components/firebase/firebase-app.js"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-database-script.html"><link rel="prefetch" href="../../bower_components/firebase/firebase-database.js"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-auth-script.html"><link rel="prefetch" href="../../bower_components/firebase/firebase-auth.js"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-storage-script.html"><link rel="prefetch" href="../../bower_components/firebase/firebase-storage.js"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-messaging-script.html"><link rel="prefetch" href="../../bower_components/firebase/firebase-messaging.js"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-auth.html"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-common-behavior.html"><link rel="prefetch" href="../../bower_components/app-storage/app-network-status-behavior.html"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-query.html"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-database-behavior.html"><link rel="prefetch" href="../../bower_components/app-storage/app-storage-behavior.html"><link rel="prefetch" href="../../bower_components/polymerfire/firebase-document.html"><link rel="prefetch" href="../../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html"><link rel="prefetch" href="../../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror-client.html"><link rel="prefetch" href="../../bower_components/app-storage/app-indexeddb-mirror/common-worker.html"><link rel="prefetch" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html"><link rel="prefetch" href="../../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../../bower_components/app-layout/app-layout-behavior/app-layout-behavior.html"><link rel="prefetch" href="../../bower_components/iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../../bower_components/app-layout/app-header/app-header.html"><link rel="prefetch" href="../../bower_components/app-layout/app-scroll-effects/app-scroll-effects-behavior.html"><link rel="prefetch" href="../../bower_components/iron-scroll-target-behavior/iron-scroll-target-behavior.html"><link rel="prefetch" href="../../bower_components/app-layout/helpers/helpers.html"><link rel="prefetch" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html"><link rel="prefetch" href="../../bower_components/app-layout/app-scroll-effects/effects/waterfall.html"><link rel="prefetch" href="../../bower_components/paper-button/paper-button.html"><link rel="prefetch" href="../../bower_components/paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../../bower_components/iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../../bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../../bower_components/iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../../bower_components/paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../../bower_components/paper-ripple/paper-ripple.html"><link rel="prefetch" href="../../bower_components/paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../../bower_components/paper-styles/shadow.html"><link rel="prefetch" href="../../bower_components/paper-icon-button/paper-icon-button.html"><link rel="prefetch" href="../../bower_components/iron-icon/iron-icon.html"><link rel="prefetch" href="../../bower_components/iron-meta/iron-meta.html"><link rel="prefetch" href="../../bower_components/paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../../bower_components/paper-styles/default-theme.html"><link rel="prefetch" href="../../bower_components/paper-styles/color.html"><link rel="prefetch" href="../../bower_components/iron-pages/iron-pages.html"><link rel="prefetch" href="../../bower_components/iron-selector/iron-selectable.html"><link rel="prefetch" href="../../bower_components/iron-selector/iron-selection.html"></head><body><dom-module id="snd-app"><template><style>:host{display:block;height:100%;width:100%;--primary-color:#673AB7;--darker-primary-color:#512DA8;--light-primary-color:#D1C4E9;--secondary-color:#03A9F4;--focus-color:#0288D1;--primary-text:#212121;--secondary-text:#727272;--divider-color:#B6B6B6;--paper-fab-background:var(--secondary-color);--paper-fab-keyboard-focus-background:var(--focus-color);}app-header-layout{height:100%;width:100%;}app-header{background-color:var(--primary-color);color:#FFF;letter-spacing:1px;}app-toolbar{background-color:var(--primary-color);color:#FFF;}#signInOverlay{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%;position:absolute;z-index:1;opacity:1;background-color:var(--primary-color);pointer-events:auto;transition:opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);will-change:opacity;}#signInOverlay paper-button{display:flex;flex-direction:row;align-items:center;justify-content:center;width:128px;color:#FFF;font-weight:500;letter-spacing:0.5px;}#signInOverlay span{margin-left:8px;}#logOutButton{opacity:0;pointer-events:none;transition:opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);will-change:opacity;}</style><app-location route="{{ route }}" use-hash-as-path=""></app-location><app-route route="{{ route }}" pattern="/:page" data="{{ routeData }}" tail="{{ subRoute }}"></app-route><firebase-app database-url="https://sheets-n-dices.firebaseio.com" storage-bucket="sheets-n-dices.appspot.com" api-key="AIzaSyCPxkcvpx73b5wp0HJTY3lZBeQawfBN608" messaging-sender-id="244324825905" auth-domain="sheets-n-dices.firebaseapp.com"></firebase-app><firebase-auth id="auth" user="{{ user }}" provider="google"></firebase-auth><firebase-query id="query" path="/users/[[ user.uid ]]/sheetList" data="{{ liveData }}"></firebase-query><app-indexeddb-mirror key="sheetList" data="{{ liveData }}" persisted-data="{{ persistedData }}"></app-indexeddb-mirror><firebase-document path="/users/[[ user.uid ]]/sheetList/{{ sheetKey }}" data="{{ sheetData }}"></firebase-document><app-header-layout has-scrolling-region="" fullbleed="" scroll-target="ironPages"><app-header id="appHeader" slot="header" fixed="" effects="waterfall"><app-toolbar><div main-title="">Sheets 'n Dices</div><paper-icon-button id="logOutButton" icon="exit-to-app" on-tap="_logOut"></paper-icon-button></app-toolbar></app-header><div id="signInOverlay"><paper-button on-tap="_logIn"><iron-icon icon="account-circle"></iron-icon><span>Sign In</span></paper-button></div><iron-pages id="ironPages" role="main" selected="[[ page ]]" attr-for-selected="name" fallback-selection="error"><snd-list name="Sheet-List" sheet-list="{{ liveData }}"></snd-list><snd-new name="New-Sheet"></snd-new><snd-sheet name="Sheet" sheet-data="{{ sheetData }}"></snd-sheet><div name="error">Ops, page not found D:</div></iron-pages></app-header-layout></template><script>class SndApp extends Polymer.Element{static get is(){return'snd-app'}static get properties(){return{user:{type:Object},page:{type:String},sheetKey:{type:String}}}static get observers(){return['_routePageChanged(routeData.page)','_userChanged(user)']}ready(){super.ready(),this.addEventListener('addNewSheet',a=>this._addNewSheet(a.detail.sheetData)),this.addEventListener('openSheet',a=>this._openSheet(a.detail.sheetKey))}connectedCallback(){super.connectedCallback(),Polymer.importHref(this.resolveUrl('../snd-list/snd-list.html'),null,null,!0),Polymer.importHref(this.resolveUrl('../snd-new/snd-new.html'),null,null,!0),Polymer.importHref(this.resolveUrl('../snd-sheet/snd-sheet.html'),null,null,!0)}_userChanged(a){a?(this.$.signInOverlay.style.opacity=0,this.$.signInOverlay.style.pointerEvents='none',this.$.logOutButton.style.opacity=1,this.$.logOutButton.style.pointerEvents='auto'):(this.$.signInOverlay.style.opacity=1,this.$.signInOverlay.style.pointerEvents='auto',this.$.logOutButton.style.opacity=0,this.$.logOutButton.style.pointerEvents='none')}_routePageChanged(a){return this.$.appHeader.scroll(0,0),a?'Sheet'!=a||this.sheetKey?this.set('page',a):window.location.hash='/Sheet-List':window.location.hash=window.location.hash||'/Sheet-List'}_addNewSheet(a){return this.$.query.ref.push(a),void(window.location.hash='/Sheet-List')}_openSheet(a){return this.set('sheetKey',a),void(window.location.hash='/Sheet/'+a)}_logIn(){this.$.auth.signInWithPopup().then(function(a){console.log(a)}).catch(function(a){console.log(a)})}_logOut(){this.$.auth.signOut().then(function(a){console.log(a)}).catch(function(a){console.log(a)})}}window.customElements.define(SndApp.is,SndApp);</script></dom-module></body></html>