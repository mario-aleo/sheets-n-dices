<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/polymer/lib/elements/dom-if.html"><link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html"><link rel="import" href="../../bower_components/paper-tabs/paper-tab.html"><link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html"><link rel="import" href="../../bower_components/iron-pages/iron-pages.html"><link rel="import" href="../../bower_components/paper-card/paper-card.html"><link rel="import" href="../../bower_components/paper-fab/paper-fab.html"><link rel="import" href="../../bower_components/paper-button/paper-button.html"><link rel="import" href="../../bower_components/paper-input/paper-input.html"><link rel="import" href="../../bower_components/paper-input/paper-textarea.html"><link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html"><link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html"><link rel="import" href="../../bower_components/paper-item/paper-item.html"><link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html"><link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html"><link rel="import" href="../../bower_components/paper-toast/paper-toast.html"><link rel="import" href="../snd-chip/snd-chip.html"><link rel="prefetch" href="../../bower_components/polymer/polymer-element.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/element-mixin.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/boot.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/mixin.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/case-map.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/style-gather.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/resolve-url.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-module.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/property-effects.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/path.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/property-accessors.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/async.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/template-stamp.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-if.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/templatize.html"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/mutable-data.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/debounce.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/flush.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-repeat.html"><link rel="prefetch" href="../../bower_components/paper-tabs/paper-tab.html"><link rel="prefetch" href="../../bower_components/polymer/polymer.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/legacy-element-mixin.html"><link rel="prefetch" href="../../bower_components/shadycss/apply-shim.html"><link rel="prefetch" href="../../bower_components/shadycss/apply-shim.min.js"><link rel="prefetch" href="../../bower_components/polymer/lib/mixins/gesture-event-listeners.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/gestures.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/import-href.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/render-status.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/unresolved.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/polymer.dom.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/flattened-nodes-observer.html"><link rel="prefetch" href="../../bower_components/polymer/lib/utils/array-splice.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/polymer-fn.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/class.html"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/templatizer-behavior.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/dom-bind.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/array-selector.html"><link rel="prefetch" href="../../bower_components/polymer/lib/elements/custom-style.html"><link rel="prefetch" href="../../bower_components/shadycss/custom-style-interface.html"><link rel="prefetch" href="../../bower_components/shadycss/custom-style-interface.min.js"><link rel="prefetch" href="../../bower_components/polymer/lib/legacy/mutable-data-behavior.html"><link rel="prefetch" href="../../bower_components/iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../../bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../../bower_components/iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../../bower_components/paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../../bower_components/paper-ripple/paper-ripple.html"><link rel="prefetch" href="../../bower_components/paper-tabs/paper-tabs.html"><link rel="prefetch" href="../../bower_components/iron-icon/iron-icon.html"><link rel="prefetch" href="../../bower_components/iron-meta/iron-meta.html"><link rel="prefetch" href="../../bower_components/iron-menu-behavior/iron-menubar-behavior.html"><link rel="prefetch" href="../../bower_components/iron-menu-behavior/iron-menu-behavior.html"><link rel="prefetch" href="../../bower_components/iron-selector/iron-multi-selectable.html"><link rel="prefetch" href="../../bower_components/iron-selector/iron-selectable.html"><link rel="prefetch" href="../../bower_components/iron-selector/iron-selection.html"><link rel="prefetch" href="../../bower_components/iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../../bower_components/paper-icon-button/paper-icon-button.html"><link rel="prefetch" href="../../bower_components/paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../../bower_components/paper-styles/default-theme.html"><link rel="prefetch" href="../../bower_components/paper-styles/color.html"><link rel="prefetch" href="../../bower_components/paper-tabs/paper-tabs-icons.html"><link rel="prefetch" href="../../bower_components/iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../../bower_components/iron-pages/iron-pages.html"><link rel="prefetch" href="../../bower_components/paper-card/paper-card.html"><link rel="prefetch" href="../../bower_components/iron-image/iron-image.html"><link rel="prefetch" href="../../bower_components/paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../../bower_components/paper-styles/shadow.html"><link rel="prefetch" href="../../bower_components/paper-fab/paper-fab.html"><link rel="prefetch" href="../../bower_components/paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../../bower_components/paper-button/paper-button.html"><link rel="prefetch" href="../../bower_components/paper-input/paper-input.html"><link rel="prefetch" href="../../bower_components/iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../../bower_components/iron-input/iron-input.html"><link rel="prefetch" href="../../bower_components/iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../../bower_components/iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../../bower_components/paper-input/paper-input-behavior.html"><link rel="prefetch" href="../../bower_components/paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../../bower_components/paper-styles/typography.html"><link rel="prefetch" href="../../bower_components/font-roboto/roboto.html"><link rel="prefetch" href="../../bower_components/paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../../bower_components/paper-input/paper-input-container.html"><link rel="prefetch" href="../../bower_components/paper-input/paper-input-error.html"><link rel="prefetch" href="../../bower_components/paper-input/paper-textarea.html"><link rel="prefetch" href="../../bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html"><link rel="prefetch" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html"><link rel="prefetch" href="../../bower_components/paper-menu-button/paper-menu-button.html"><link rel="prefetch" href="../../bower_components/iron-dropdown/iron-dropdown.html"><link rel="prefetch" href="../../bower_components/iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../../bower_components/iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../../bower_components/iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../../bower_components/iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../../bower_components/iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../../bower_components/neon-animation/neon-animation-runner-behavior.html"><link rel="prefetch" href="../../bower_components/neon-animation/neon-animatable-behavior.html"><link rel="prefetch" href="../../bower_components/iron-dropdown/iron-dropdown-scroll-manager.html"><link rel="prefetch" href="../../bower_components/neon-animation/animations/fade-in-animation.html"><link rel="prefetch" href="../../bower_components/neon-animation/neon-animation-behavior.html"><link rel="prefetch" href="../../bower_components/neon-animation/animations/fade-out-animation.html"><link rel="prefetch" href="../../bower_components/paper-menu-button/paper-menu-button-animations.html"><link rel="prefetch" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu-icons.html"><link rel="prefetch" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu-shared-styles.html"><link rel="prefetch" href="../../bower_components/paper-listbox/paper-listbox.html"><link rel="prefetch" href="../../bower_components/paper-item/paper-item.html"><link rel="prefetch" href="../../bower_components/paper-item/paper-item-behavior.html"><link rel="prefetch" href="../../bower_components/paper-item/paper-item-shared-styles.html"><link rel="prefetch" href="../../bower_components/paper-checkbox/paper-checkbox.html"><link rel="prefetch" href="../../bower_components/paper-behaviors/paper-checked-element-behavior.html"><link rel="prefetch" href="../../bower_components/iron-checked-element-behavior/iron-checked-element-behavior.html"><link rel="prefetch" href="../../bower_components/paper-dialog/paper-dialog.html"><link rel="prefetch" href="../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html"><link rel="prefetch" href="../../bower_components/paper-dialog-behavior/paper-dialog-shared-styles.html"><link rel="prefetch" href="../../bower_components/paper-toast/paper-toast.html"><link rel="prefetch" href="../snd-chip/snd-chip.html"></head><body><dom-module id="snd-sheet"><template><style>:host{display:block;height:100%;width:100%;--paper-tabs-selection-bar-color:var(--secondary-color);--paper-fab-background:var(--secondary-color);--paper-fab-keyboard-focus-background:var(--focus-color);--paper-input-container-input:{max-height:96px;};}paper-tabs{background-color:var(--primary-color);color:#FFF;}paper-card{width:100%;margin-top:16px;}paper-fab{position:fixed;bottom:32px;right:32px;box-shadow:var(--paper-material-elevation-4_-_box-shadow);}paper-dialog{width:calc(100% - 80px);}paper-dialog .buttons{padding:8px;}paper-dialog .buttons paper-button{margin:auto;}snd-chip{margin:4px 0;}paper-dropdown-menu{width:100%;}.dices-page{display:flex;flex-direction:row;flex-wrap:wrap;}.dices-page paper-button{width:124px;height:48px;margin:calc(100%/6 - 48px/3) calc(100%/4 - 124px/2);}.status-card:last-child{margin-bottom:80px;}.effect-card:last-child{margin-bottom:32px;}.effect-card .effect-description{padding-bottom:0;}.effect-card .affects-list{padding-bottom:0;}.sheet-detail{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-top:16px;}.sheet-detail:first-child{margin-top:0;}.sheet-detail-name{font-weight:500;}.affect-add-content{display:flex;flex-direction:row;}.affects-list snd-chip{padding:8px 8px 8px 16px;}.affects-list snd-chip iron-icon{--iron-icon-width:18px;--iron-icon-height:18px;margin-left:8px;}.dialog-overlay:after{content:"&nbsp;";display:block;position:fixed;width:100%;height:100%;top:0;left:0;z-index:102;background-color:rgba(0,0,0,0.7);}.note-text{word-break:break-word;}.primary-paper-button{background-color:var(--primary-color);color:#FFF;}.secondary-paper-button{color:var(--secondary-color);}.red-paper-button{color:#FF5252;}.left-paper-fab{left:32px;right:0;}@media (min-width: 426px){paper-dialog{width:calc(60% - 80px);max-width:calc(60% - 80px);}}@media (min-width: 769px){paper-dialog{width:calc(60% - 80px);max-width:calc(60% - 80px);}}</style><paper-tabs scrollable="" hide-scroll-buttons="" fit-container="" selected="{{ tabSelected }}"><paper-tab>Summary</paper-tab><paper-tab>Effects</paper-tab><paper-tab>Inventory</paper-tab><paper-tab>Notes</paper-tab><paper-tab>Dices</paper-tab></paper-tabs><iron-pages id="ironPages" selected="{{ tabSelected }}"><section class="summary-page"><paper-card class="basic-card" heading="Basic" elevation="2"><div class="card-content"><div class="sheet-detail"><span class="sheet-detail-name">Name: </span><span class="sheet-detail-value">[[ sheetData.name ]]</span></div><div class="sheet-detail"><span class="sheet-detail-name">Class: </span><span class="sheet-detail-value">[[ sheetData.job ]]</span></div><div class="sheet-detail"><span class="sheet-detail-name">Race: </span><span class="sheet-detail-value">[[ sheetData.race ]]</span></div><div class="sheet-detail"><span class="sheet-detail-name">Level: </span><span class="sheet-detail-value">[[ sheetData.level ]]</span></div><div class="sheet-detail"><span class="sheet-detail-name">System: </span><span class="sheet-detail-value">[[ sheetData.system ]]</span></div></div></paper-card><paper-card class="status-card" heading="Status" elevation="2"><div class="card-content"><template is="dom-repeat" items="[[ sheetData.statusList ]]" as="status"><div class="sheet-detail"><span class="sheet-detail-name">[[ status.name ]] </span><span class="sheet-detail-value">[[ status.value ]]</span></div></template></div></paper-card><paper-card class="status-card" heading="Resources" elevation="2"><div class="card-content"><template is="dom-repeat" items="[[ sheetData.resourcesList ]]" as="resources"><div class="sheet-detail"><span class="sheet-detail-name">[[ resources.name ]] </span><span class="sheet-detail-value">[[ resources.value ]]</span></div></template></div></paper-card><paper-card class="status-card" heading="Defenses" elevation="2"><div class="card-content"><template is="dom-repeat" items="[[ sheetData.defensesList ]]" as="defenses"><div class="sheet-detail"><span class="sheet-detail-name">[[ defenses.name ]] </span><span class="sheet-detail-value">[[ defenses.value ]]</span></div></template></div></paper-card><paper-card class="status-card" heading="Skills" elevation="2"><div class="card-content"><template is="dom-repeat" items="[[ sheetData.skillsList ]]" as="skills"><div class="sheet-detail"><span class="sheet-detail-name">[[ skills.name ]] </span><span class="sheet-detail-value">[[ skills.value ]]</span></div></template></div></paper-card></section><section class="effects-page"><template is="dom-if" if="[[ !sheetData.effectsList ]]"><div><p>You don't have any effect</p><p>Brightside, you don't have any negative effect :)</p></div></template><template is="dom-repeat" items="[[ sheetData.effectsList ]]" as="effect" index-as="effectIndex"><paper-card class="effect-card" heading="[[ effect.name ]]" elevation="2"><template is="dom-if" if="[[ effect.description ]]"><div class="card-content effect-description">[[ effect.description ]]</div></template><div class="card-content affects-list"><template is="dom-repeat" items="[[ effect.affectsList ]]" as="affect" index-as="affectIndex"><snd-chip><div on-click="_editAffect" data-effect-index$="[[ effectIndex ]]" data-affect-index$="[[ affectIndex ]]">[[ _affectChipName(affect.value, affect.name, affect.location) ]]</div><iron-icon icon="clear" on-click="_deleteAffect" data-effect-index$="[[ effectIndex ]]" data-affect-index$="[[ affectIndex ]]"></iron-icon></snd-chip></template></div><div class="card-content"><paper-button class="secondary-paper-button" on-tap="_addAffect" data-effect-index$="[[ effectIndex ]]">Add Effect Bonus</paper-button></div><div class="card-actions"><paper-button class="red-paper-button" on-tap="_deleteEffect" data-effect-index$="[[ effectIndex ]]">Delete</paper-button><paper-button class="secondary-paper-button" on-tap="_editEffect" data-effect-index$="[[ effectIndex ]]" autofocus="">Edit</paper-button></div></paper-card></template><paper-fab icon="add" elevation="4" on-tap="_addEffect"></paper-fab></section><section class="inventory-page"><template is="dom-if" if="[[ !sheetData.itemsList ]]"><div><p>You don't have any item ):</p></div></template><template is="dom-repeat" items="[[ sheetData.itemsList ]]" as="item" index-as="itemIndex"><paper-card class="item-card" heading="[[ item.name ]]" elevation="2"><div class="card-content"><paper-checkbox on-tap="_activeItem" data-item-index$="[[ itemIndex ]]" checked="[[ item.active ]]">Use</paper-checkbox></div><template is="dom-if" if="[[ !item.equippable ]]"><div class="card-content item-description">Charges: [[ item.charges ]]</div></template><template is="dom-if" if="[[ item.description ]]"><div class="card-content item-description">[[ item.description ]]</div></template><div class="card-content affects-list"><template is="dom-repeat" items="[[ item.affectsList ]]" as="affect" index-as="affectIndex"><snd-chip><div on-click="_editAffect" data-item-index$="[[ itemIndex ]]" data-affect-index$="[[ affectIndex ]]">[[ _affectChipName(affect.value, affect.name, affect.location) ]]</div><iron-icon icon="clear" on-click="_deleteAffect" data-item-index$="[[ itemIndex ]]" data-affect-index$="[[ affectIndex ]]"></iron-icon></snd-chip></template></div><div class="card-content"><paper-button class="secondary-paper-button" on-tap="_addAffect" data-item-index$="[[ itemIndex ]]">Add Item Bonus</paper-button></div><div class="card-actions"><paper-button class="red-paper-button" on-tap="_deleteItem" data-item-index$="[[ itemIndex ]]">Delete</paper-button><paper-button class="secondary-paper-button" on-tap="_editItem" data-item-index$="[[ itemIndex ]]" autofocus="">Edit</paper-button></div></paper-card></template><paper-fab icon="add" elevation="4" on-tap="_addItem"></paper-fab></section><section class="notes-page"><template is="dom-if" if="[[ !sheetData.notesList ]]"><div>You don't have any note :(</div></template><template is="dom-repeat" items="[[ sheetData.notesList ]]" as="note" index-as="noteIndex"><paper-card class="status-card" heading="[[ note.name ]]" elevation="2"><div class="card-content note-text"><p>[[ note.text ]]</p></div><div class="card-actions"><paper-button class="red-paper-button" on-tap="_deleteNote" data-note-index$="[[ noteIndex ]]">Delete</paper-button><paper-button class="secondary-paper-button" on-tap="_editNote" data-note-index$="[[ noteIndex ]]" data-note-name$="[[ note.name ]]" data-note-text$="[[ note.text ]]" autofocus="">Edit</paper-button></div></paper-card></template><paper-fab icon="add" elevation="4" on-tap="_addNote"></paper-fab></section><section class="dices-page"><paper-button class="primary-paper-button" on-tap="_rollDice" data-dice-number="20">Roll d20</paper-button><paper-button class="primary-paper-button" on-tap="_rollDice" data-dice-number="12">Roll d12</paper-button><paper-button class="primary-paper-button" on-tap="_rollDice" data-dice-number="10">Roll d10</paper-button><paper-button class="primary-paper-button" on-tap="_rollDice" data-dice-number="8">Roll d8</paper-button><paper-button class="primary-paper-button" on-tap="_rollDice" data-dice-number="6">Roll d6</paper-button><paper-button class="primary-paper-button" on-tap="_rollDice" data-dice-number="4">Roll d4</paper-button></section></iron-pages><paper-dialog id="effectDialog" no-cancel-on-esc-key="" no-cancel-on-outside-click=""><div class="content"><paper-input id="effectDialogName" always-float-label="" type="text" label="Name"></paper-input><paper-textarea id="effectDialogDescription" always-float-label="" type="text" label="Description" rows="5" max-rows="4"></paper-textarea></div><div class="buttons"><paper-button id="effectDialogCancel" class="red-paper-button" on-tap="_cancel">Cancel</paper-button><paper-button id="effectDialogConfirm" class="secondary-paper-button" on-tap="_confirm" autofocus="">Confirm</paper-button></div></paper-dialog><paper-dialog id="itemDialog" no-cancel-on-esc-key="" no-cancel-on-outside-click=""><div class="content"><paper-input id="itemDialogName" always-float-label="" type="text" label="Name"></paper-input><paper-textarea id="itemDialogDescription" always-float-label="" type="text" label="Description" rows="5" max-rows="4"></paper-textarea><paper-checkbox id="itemDialogEquippable" checked="{{ itemEquippable }}">Equippable</paper-checkbox><paper-input id="itemDialogCharges" always-float-label="" type="number" label="Charges" value="{{ itemCharge }}"></paper-input></div><div class="buttons"><paper-button id="itemDialogCancel" class="red-paper-button" on-tap="_cancel">Cancel</paper-button><paper-button id="itemDialogConfirm" class="secondary-paper-button" on-tap="_confirm" autofocus="">Confirm</paper-button></div></paper-dialog><paper-dialog id="noteDialog" no-cancel-on-esc-key="" no-cancel-on-outside-click=""><div class="content"><paper-input id="noteDialogName" always-float-label="" type="text" label="Name"></paper-input><paper-textarea id="noteDialogText" always-float-label="" type="text" label="Text" rows="5" max-rows="4"></paper-textarea></div><div class="buttons"><paper-button id="noteDialogCancel" class="red-paper-button" on-tap="_cancel">Cancel</paper-button><paper-button id="noteDialogConfirm" class="secondary-paper-button" on-tap="_confirm" autofocus="">Confirm</paper-button></div></paper-dialog><paper-dialog id="affectDialog" no-cancel-on-esc-key="" no-cancel-on-outside-click=""><div class="content"><paper-dropdown-menu label="Affect"><paper-listbox id="affectDialogStatus" slot="dropdown-content" attr-for-selected="affectItem"><template is="dom-repeat" items="[[ sheetData.statusList ]]" as="status"><paper-item affect-item="[[ _affectItemStringify('statusList', status.name) ]]">[[ status.name ]] on Status</paper-item></template><template is="dom-repeat" items="[[ sheetData.resourcesList ]]" as="status"><paper-item affect-item="[[ _affectItemStringify('resourcesList', status.name) ]]">[[ status.name ]] on Resources</paper-item></template><template is="dom-repeat" items="[[ sheetData.defensesList ]]" as="status"><paper-item affect-item="[[ _affectItemStringify('defensesList', status.name) ]]">[[ status.name ]] on Defenses</paper-item></template><template is="dom-repeat" items="[[ sheetData.skillsList ]]" as="status"><paper-item affect-item="[[ _affectItemStringify('skillsList', status.name) ]]">[[ status.name ]] on Skills</paper-item></template></paper-listbox></paper-dropdown-menu><paper-input id="affectDialogValue" always-float-label="" type="number" label="Value" value="{{ affectValue }}"></paper-input></div><div class="buttons"><paper-button id="affectDialogCancel" class="red-paper-button" on-tap="_cancel">Cancel</paper-button><paper-button id="affectDialogConfirm" class="secondary-paper-button" on-tap="_confirm" autofocus="">Confirm</paper-button></div></paper-dialog><paper-toast id="sndSheetToast" duration="2000"></paper-toast></template><script>class SndSheet extends Polymer.Element{static get is(){return'snd-sheet'}static get properties(){return{tabSelected:{type:Number,value:0},sheetData:{type:Object},itemEquippable:{type:Boolean},itemCharge:{type:Number},affectValue:{type:Number}}}static get observers(){return['_affectValueChanged(affectValue)','_itemEquippableChanged(itemEquippable)','_itemChargeChanged(itemCharge)']}_affectValueChanged(a){return a=parseFloat(this._numberTypeCheck(a)),void(this.$.affectDialogConfirm.disabled=a&&0!==a?!1:!0)}_itemEquippableChanged(a){this.$.itemDialogCharges.disabled=!!a}_itemChargeChanged(a){a=parseInt(this._numberTypeCheck(a)),this.$.itemDialogConfirm.disabled=!!(0>=a)}_affectChipName(a,b,c){let d='';return d='statusList'==c?'Status':'resourcesList'==c?'Resources':'defensesList'==c?'Defenses':'Skills',0<a?'+'+a+' '+b+' on '+d:a+' '+b+' on '+d}_affectItemStringify(a,b){return JSON.stringify({location:a,name:b})}_addEffect(){let a=this;return this.$.ironPages.classList.add('dialog-overlay'),this.$.effectDialogName.value='',this.$.effectDialogDescription.value='',this._cancel=()=>{a.$.effectDialogName.value='',a.$.effectDialogDescription.value='',a.$.ironPages.classList.remove('dialog-overlay'),a.$.effectDialog.close()},this._confirm=()=>{let c=a.$.effectDialogName.value,d=a.$.effectDialogDescription.value;this.sheetData.effectsList||this.set('sheetData.effectsList',[]),a.push('sheetData.effectsList',new Effect(c,d,[])),a.$.effectDialogName.value='',a.$.effectDialogDescription.value='',a.$.ironPages.classList.remove('dialog-overlay'),a.$.effectDialog.close()},void this.$.effectDialog.open()}_editEffect(){let a=this,b=event.target.dataset.effectIndex,c=this.sheetData.effectsList[b].name,d=this.sheetData.effectsList[b].description,e=this.sheetData.effectsList[b].affectsList;return this.$.ironPages.classList.add('dialog-overlay'),this.$.effectDialogName.value=c,this.$.effectDialogDescription.value=d,this._cancel=()=>{a.$.effectDialogName.value='',a.$.effectDialogDescription.value='',a.$.ironPages.classList.remove('dialog-overlay'),a.$.effectDialog.close()},this._confirm=()=>{let h=a.$.effectDialogName.value,i=a.$.effectDialogDescription.value;a.set('sheetData.effectsList.'+b,new Effect(h,i,e)),a.$.effectDialogName.value='',a.$.effectDialogDescription.value='',a.$.ironPages.classList.remove('dialog-overlay'),a.$.effectDialog.close()},void this.$.effectDialog.open()}_deleteEffect(){let a=event.target.dataset.effectIndex;this.splice('sheetData.effectsList',a,1)}_addItem(){let a=this;return this.$.ironPages.classList.add('dialog-overlay'),this.$.itemDialogName.value='',this.$.itemDialogDescription.value='',this.$.itemDialogEquippable.checked=!0,this.$.itemDialogCharges.value=0,this._cancel=()=>{a.$.itemDialogName.value='',a.$.itemDialogDescription.value='',a.$.itemDialogEquippable.checked=!0,a.$.itemDialogCharges.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.itemDialog.close()},this._confirm=()=>{let c=a.$.itemDialogName.value,d=a.$.itemDialogDescription.value,e=a.$.itemDialogEquippable.checked,f=a.$.itemDialogCharges.value;this.sheetData.itemsList||this.set('sheetData.itemsList',[]),a.push('sheetData.itemsList',new Item(c,d,e,f,!1,[])),a.$.itemDialogName.value='',a.$.itemDialogDescription.value='',a.$.itemDialogEquippable.checked=!0,a.$.itemDialogCharges.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.itemDialog.close()},void this.$.itemDialog.open()}_editItem(){let a=this,b=event.target.dataset.itemIndex,c=this.sheetData.itemsList[b].name,d=this.sheetData.itemsList[b].description,e=this.sheetData.itemsList[b].equippable,f=this.sheetData.itemsList[b].charges,g=this.sheetData.itemsList[b].active,h=this.sheetData.itemsList[b].affectsList;return this.$.ironPages.classList.add('dialog-overlay'),this.$.itemDialogName.value=c,this.$.itemDialogDescription.value=d,this.$.itemDialogEquippable.checked=e,this.$.itemDialogCharges.value=f,this._cancel=()=>{a.$.itemDialogName.value='',a.$.itemDialogDescription.value='',a.$.itemDialogEquippable.checked=!0,a.$.itemDialogCharges.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.itemDialog.close()},this._confirm=()=>{let k=a.$.itemDialogName.value,l=a.$.itemDialogDescription.value,m=a.$.itemDialogEquippable.checked,n=a.$.itemDialogCharges.value;a.set('sheetData.itemsList.'+b,new Item(k,l,m,n,g,h)),a.$.itemDialogName.value='',a.$.itemDialogDescription.value='',a.$.itemDialogEquippable.checked=!0,a.$.itemDialogCharges.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.itemDialog.close()},void this.$.itemDialog.open()}_deleteItem(){let a=event.target.dataset.itemIndex;this.splice('sheetData.itemsList',a,1)}_activeItem(){let a=this,b=event.target.dataset.itemIndex,c=!event.target.__data.checked,e='sheetData.itemsList.'+b,f=this.sheetData.itemsList[b];f.charges=parseInt(f.charges),f.equippable?this.set(e,new Item(f.name,f.description,f.equippable,f.charges,c,f.affectsList)):c?(f.charges--,this.set(e,new Item(f.name,f.description,f.equippable,f.charges,c,f.affectsList))):0==f.charges&&this.splice('sheetData.itemsList',b,1)}_addNote(){let b=this;return this.$.ironPages.classList.add('dialog-overlay'),this._cancel=()=>{b.$.noteDialogName.value='',b.$.noteDialogText.value='',b.$.noteDialog.close(),b.$.ironPages.classList.remove('dialog-overlay')},this._confirm=()=>{let d=b.$.noteDialogName.value,e=b.$.noteDialogText.value;b.sheetData.notesList||b.set('sheetData.notesList',[]),b.push('sheetData.notesList',new Note(d,e)),b.$.noteDialog.close(),b.$.ironPages.classList.remove('dialog-overlay')},void this.$.noteDialog.open()}_editNote(a){let b=this,c=a.target.dataset.noteName,d=a.target.dataset.noteText,e='sheetData.notesList.'+a.target.dataset.noteIndex;return this.$.ironPages.classList.add('dialog-overlay'),this.$.noteDialogName.value=c,this.$.noteDialogText.value=d,this._cancel=()=>{b.$.noteDialogName.value='',b.$.noteDialogText.value='',b.$.noteDialog.close(),b.$.ironPages.classList.remove('dialog-overlay')},this._confirm=()=>{let g=b.$.noteDialogName.value,h=b.$.noteDialogText.value;b.set(e,new Note(g,h)),b.$.noteDialog.close(),b.$.ironPages.classList.remove('dialog-overlay')},void this.$.noteDialog.open()}_deleteNote(a){let b=a.target.dataset.noteIndex;this.splice('sheetData.notesList',b,1)}_rollDice(){let a=event.target.dataset.diceNumber;this.$.sndSheetToast.close(),a=Math.floor(parseInt(a)),this.$.sndSheetToast.text='D'+a+' roll: '+(Math.floor(Math.random()*(a-1))+1),this.$.sndSheetToast.open()}_addAffect(){let a=this,b=event.target.dataset.effectIndex,c=event.target.dataset.itemIndex,d=b?'sheetData.effectsList.'+b+'.affectsList':'sheetData.itemsList.'+c+'.affectsList';return this.$.ironPages.classList.add('dialog-overlay'),this.$.affectDialogStatus.selected=a._affectItemStringify('statusList',a.sheetData.statusList[0].name),this.$.affectDialogValue.value=0,this._cancel=()=>{a.$.affectDialogStatus.selected=a._affectItemStringify('statusList',a.sheetData.statusList[0].name),a.$.affectDialogValue.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.affectDialog.close()},this._confirm=()=>{let f=JSON.parse(a.$.affectDialogStatus.selected),g=parseFloat(this._numberTypeCheck(a.$.affectDialogValue.value));b&&!this.sheetData.effectsList[b].affectsList?this.set(d,[]):c&&!this.sheetData.itemsList[c].affectsList&&this.set(d,[]),a.push(d,new Affect(f.location,f.name,g)),a.$.affectDialogStatus.selected=a._affectItemStringify('statusList',a.sheetData.statusList[0].name),a.$.affectDialogValue.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.affectDialog.close()},void this.$.affectDialog.open()}_editAffect(){let a=this,b=event.target.dataset.effectIndex,c=event.target.dataset.itemIndex,d=event.target.dataset.affectIndex,e=b?this.sheetData.effectsList[b].affectsList[d].location:this.sheetData.itemsList[c].affectsList[d].location,f=b?this.sheetData.effectsList[b].affectsList[d].name:this.sheetData.itemsList[c].affectsList[d].name,g=b?this.sheetData.effectsList[b].affectsList[d].value:this.sheetData.itemsList[c].affectsList[d].value,h=b?'sheetData.effectsList.'+b+'.affectsList.'+d:'sheetData.itemsList.'+c+'.affectsList.'+d;return this.$.ironPages.classList.add('dialog-overlay'),this.$.affectDialogStatus.selected=a._affectItemStringify(e,f),this.$.affectDialogValue.value=g,this._cancel=()=>{a.$.affectDialogStatus.selected=a._affectItemStringify('statusList',a.sheetData.statusList[0].name),a.$.affectDialogValue.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.affectDialog.close()},this._confirm=()=>{let j=JSON.parse(a.$.affectDialogStatus.selected),k=parseFloat(this._numberTypeCheck(a.$.affectDialogValue.value));a.set(h,new Affect(j.location,j.name,k)),a.$.affectDialogStatus.selected=a._affectItemStringify('statusList',a.sheetData.statusList[0].name),a.$.affectDialogValue.value=0,a.$.ironPages.classList.remove('dialog-overlay'),a.$.affectDialog.close()},void this.$.affectDialog.open()}_deleteAffect(){let a=this,b=event.target.dataset.affectIndex,c=event.target.dataset.effectIndex,d=event.target.dataset.itemIndex,e=c?'sheetData.effectsList.'+c+'.affectsList':'sheetData.itemsList.'+d+'.affectsList';this.splice(e,b,1)}_numberTypeCheck(a){return a=a.toString().replace(',','.'),isNaN(parseInt(a))?'0':a}}class Note{constructor(a,b){this.name=a,this.text=b}}class Item{constructor(a,b,c,d,e,f){this.name=a,this.description=b,this.equippable=c,this.charges=d,this.active=e,this.affectsList=f||[]}}class Effect{constructor(a,b,c){this.name=a,this.description=b,this.affectsList=c||[]}}class Affect{constructor(a,b,c){this.location=a,this.name=b,this.value=c}}window.customElements.define(SndSheet.is,SndSheet);</script></dom-module></body></html>